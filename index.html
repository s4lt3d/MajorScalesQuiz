<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Major‑Scale Quiz</title>
  <style>
    body{font-family:sans-serif;padding:1rem;max-width:600px;margin:auto;}
    h1{margin-bottom:0.5rem;}
    #question{font-size:1.3rem;margin:1rem 0;}
    input,button{font-size:1rem;padding:0.4rem;}
    #result{margin-top:0.8rem;font-weight:bold;}
  </style>
</head>
<body>
  <h1>Major‑Scale Quiz</h1>
  <div id="question"></div>
  <input id="answer" placeholder="Type your answer"/>
  <button onclick="check()">Submit</button>
  <div id="result"></div>

  <script>
    // Degree names 1–13
    const names = ["tonic","supertonic","mediant","subdominant",
                   "dominant","submediant","leading tone","octave",
                   "ninth","tenth","eleventh","twelfth","thirteenth"];

    // Hard‑coded note lists keeps the file tiny
    const scales = {
      C: ["C","D","E","F","G","A","B","C","D","E","F","G","A"],
      G: ["G","A","B","C","D","E","F#","G","A","B","C","D","E"],
      D: ["D","E","F#","G","A","B","C#","D","E","F#","G","A","B"],
      A: ["A","B","C#","D","E","F#","G#","A","B","C#","D","E","F#"],
      E: ["E","F#","G#","A","B","C#","D#","E","F#","G#","A","B","C#"],
      B: ["B","C#","D#","E","F#","G#","A#","B","C#","D#","E","F#","G#"],
      "F#": ["F#","G#","A#","B","C#","D#","E#","F#","G#","A#","B","C#","D#"],
      F: ["F","G","A","Bb","C","D","E","F","G","A","Bb","C","D"],
      Bb: ["Bb","C","D","Eb","F","G","A","Bb","C","D","Eb","F","G"],
      Eb: ["Eb","F","G","Ab","Bb","C","D","Eb","F","G","Ab","Bb","C"],
      Ab: ["Ab","Bb","C","Db","Eb","F","G","Ab","Bb","C","Db","Eb","F"],
      Db: ["Db","Eb","F","Gb","Ab","Bb","C","Db","Eb","F","Gb","Ab","Bb"],
      Gb: ["Gb","Ab","Bb","Cb","Db","Eb","F","Gb","Ab","Bb","Cb","Db","Eb"],
      Cb: ["Cb","Db","Eb","Fb","Gb","Ab","Bb","Cb","Db","Eb","Fb","Gb","Ab"]
    };

    let current;
    nextQuestion();

    function nextQuestion(){
      const keys = Object.keys(scales);
      const scale = keys[Math.floor(Math.random()*keys.length)];
      const degree = Math.floor(Math.random()*names.length);
      current = {scale, degree};
      document.getElementById("question").textContent =
        `In ${scale} major, what is the ${names[degree]}?`;
      document.getElementById("answer").value = "";
      document.getElementById("result").textContent = "";
      document.getElementById("answer").focus();
    }

    function check(){
      const guess = document.getElementById("answer").value.trim()
                    .replace(/♯/,"#").replace(/♭/,"b").toUpperCase();
      const correct = scales[current.scale][current.degree].toUpperCase();
      document.getElementById("result").textContent =
        guess === correct ? "Correct!" : `No – it is ${correct}`;
      setTimeout(nextQuestion, 800);
    }
  </script>
</body>
</html>
